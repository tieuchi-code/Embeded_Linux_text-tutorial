Cấu hình chân trong device tree cho CAN

bbb_can_pins: bbb_can_pins {
		pinctrl-single,pins = <
			/* P9-24(UART1_TXD): DCAN1_RX, P9-26(UART1_RXD): DCAN1_TX/ */
			AM33XX_PADCONF(AM335X_PIN_UART1_TXD, PIN_INPUT, MUX_MODE2)
			AM33XX_PADCONF(AM335X_PIN_UART1_RXD, PIN_OUTPUT, MUX_MODE2)
		>;
	};


Bật device CAN
&dcan1 {
	status = "okay";	/* Enable only if Profile 1 is selected */
	pinctrl-names = "default";
	pinctrl-0 = <&bbb_can_pins>;
};


Bật CAN trong file deconfig
CONFIG_CAN_C_CAN=y
CONFIG_CAN_C_CAN_PLATFORM=y
CONFIG_CAN_DEV=y


-> Build lại device tree và boot lại kernel có device tree

CAN là một network device (là mạng truyền thống giống như ethernet, wifi...)
->để xem CAN có được insert chưa thì ifconfig
Tuy nhiên, ifconfig chỉ hiển thị các network đang ở trạng thái "UP", còn CAN đang ở trạng thái "DOWN" (dù đã được insert)
để hiện tất cả các mạng 
-> ip -br link show
Để bật mạng CAN lên
-> ip link set main_dcan1 up type can bitrate 200000
Để test tín hiệu nhận mạng CAN (lúc này cần kết nối phần cúng, cần một thiết bị xuất tín hiệu CAN để test)
-> candump main_dcan1













